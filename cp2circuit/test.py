

# cd ..
# python
"""
import MeteorCircuit as mc
"""
# src=mc.getCircuit(0)

src="""X2P Q0
X2P Q1
XY2P Q2 0.785398163397448
Y2P Q3
XY2P Q4 0.785398163397448
XY2P Q6 0.785398163397448
XY2P Q7 0.785398163397448
XY2P Q8 0.785398163397448
Y2P Q9
XY2P Q10 0.785398163397448
XY2P Q11 0.785398163397448
X2P Q12
XY2P Q13 0.785398163397448
Y2P Q14
XY2P Q15 0.785398163397448
Y2P Q16
X2P Q18
Y2P Q19
X2P Q20
XY2P Q21 0.785398163397448
XY2P Q22 0.785398163397448
X2P Q23
X2P Q24
XY2P Q25 0.785398163397448
Y2P Q26
XY2P Q27 0.785398163397448
Y2P Q28
XY2P Q30 0.785398163397448
XY2P Q31 0.785398163397448
XY2P Q32 0.785398163397448
X2P Q33
XY2P Q34 0.785398163397448
XY2P Q35 0.785398163397448
XY2P Q36 0.785398163397448
X2P Q37
XY2P Q38 0.785398163397448
X2P Q39
Y2P Q40
Y2P Q42
Y2P Q43
Y2P Q44
XY2P Q45 0.785398163397448
X2P Q46
Y2P Q47
X2P Q48
XY2P Q49 0.785398163397448
X2P Q50
XY2P Q51 0.785398163397448
XY2P Q52 0.785398163397448
X2P Q54
XY2P Q55 0.785398163397448
Y2P Q56
Y2P Q57
X2P Q58
XY2P Q59 0.785398163397448
Y2P Q60
X2P Q61
XY2P Q62 0.785398163397448
X2P Q63
XY2P Q64 0.785398163397448
FSIM G0_6 0
FSIM G1_7 0
FSIM G8_13 0
FSIM G9_14 0
FSIM G10_15 0
FSIM G12_18 0
FSIM G16_22 0
FSIM G19_24 0
FSIM G20_25 0
FSIM G21_26 0
FSIM G27_33 0
FSIM G28_34 0
FSIM G31_36 0
FSIM G32_37 0
FSIM G38_44 0
FSIM G39_45 0
FSIM G40_46 0
FSIM G43_48 0
FSIM G49_55 0
FSIM G50_56 0
FSIM G51_57 0
FSIM G52_58 0
Y2P Q0
Y2P Q1
X2P Q2
X2P Q3
Y2P Q4
Y2P Q6
Y2P Q7
X2P Q8
XY2P Q9 0.785398163397448
X2P Q10
X2P Q11
Y2P Q12
X2P Q13
X2P Q14
Y2P Q15
XY2P Q16 0.785398163397448
Y2P Q18
X2P Q19
Y2P Q20
Y2P Q21
X2P Q22
Y2P Q23
XY2P Q24 0.785398163397448
Y2P Q25
XY2P Q26 0.785398163397448
X2P Q27
XY2P Q28 0.785398163397448
Y2P Q30
Y2P Q31
X2P Q32
Y2P Q33
Y2P Q34
Y2P Q35
Y2P Q36
Y2P Q37
X2P Q38
Y2P Q39
XY2P Q40 0.785398163397448
X2P Q42
X2P Q43
X2P Q44
X2P Q45
XY2P Q46 0.785398163397448
X2P Q47
Y2P Q48
Y2P Q49
XY2P Q50 0.785398163397448
X2P Q51
X2P Q52
Y2P Q54
Y2P Q55
XY2P Q56 0.785398163397448
XY2P Q57 0.785398163397448
XY2P Q58 0.785398163397448
Y2P Q59
X2P Q60
XY2P Q61 0.785398163397448
X2P Q62
Y2P Q63
Y2P Q64
FSIM G2_8 0
FSIM G3_9 0
FSIM G4_10 0
FSIM G7_12 0
FSIM G11_16 0
FSIM G13_19 0
FSIM G14_20 0
FSIM G15_21 0
FSIM G22_27 0
FSIM G23_28 0
FSIM G24_30 0
FSIM G25_31 0
FSIM G26_32 0
FSIM G33_38 0
FSIM G34_39 0
FSIM G35_40 0
FSIM G36_42 0
FSIM G37_43 0
FSIM G44_49 0
FSIM G45_50 0
FSIM G46_51 0
FSIM G47_52 0
FSIM G48_54 0
FSIM G55_60 0
FSIM G56_61 0
FSIM G57_62 0
FSIM G58_63 0
FSIM G59_64 0
X2P Q0
XY2P Q1 0.785398163397448
XY2P Q2 0.785398163397448
XY2P Q3 0.785398163397448
XY2P Q4 0.785398163397448
XY2P Q6 0.785398163397448
XY2P Q7 0.785398163397448
Y2P Q8
X2P Q9
XY2P Q10 0.785398163397448
Y2P Q11
X2P Q12
Y2P Q13
Y2P Q14
XY2P Q15 0.785398163397448
Y2P Q16
XY2P Q18 0.785398163397448
Y2P Q19
X2P Q20
XY2P Q21 0.785398163397448
XY2P Q22 0.785398163397448
X2P Q23
X2P Q24
XY2P Q25 0.785398163397448
Y2P Q26
Y2P Q27
X2P Q28
X2P Q30
XY2P Q31 0.785398163397448
XY2P Q32 0.785398163397448
X2P Q33
XY2P Q34 0.785398163397448
X2P Q35
XY2P Q36 0.785398163397448
X2P Q37
XY2P Q38 0.785398163397448
X2P Q39
X2P Q40
Y2P Q42
XY2P Q43 0.785398163397448
Y2P Q44
XY2P Q45 0.785398163397448
X2P Q46
XY2P Q47 0.785398163397448
XY2P Q48 0.785398163397448
XY2P Q49 0.785398163397448
X2P Q50
Y2P Q51
XY2P Q52 0.785398163397448
X2P Q54
XY2P Q55 0.785398163397448
Y2P Q56
X2P Q57
X2P Q58
XY2P Q59 0.785398163397448
XY2P Q60 0.785398163397448
Y2P Q61
XY2P Q62 0.785398163397448
FSIM G58_63 0
X2P Q63
X2P Q64
"""

import re
class g:
    FSIMTime=1

m=re.match(r"((?:[XY].*\n)+)",src)
qubits={line.split(' ')[1][1:]:1 for line in m.group(1).strip().split('\n')}

def repl(subm):
    qubits2=dict(qubits)
    output=[subm.group(1)]
    for line in subm.group(1).strip().split('\n'):
        m2=re.match(r"FSIM G(\d+)_(\d+) ",line)
        qubits2[m2.group(1)]=2
        qubits2[m2.group(2)]=2
    for k,v in qubits2.items():
        if v==1:
            output.append(f"I Q{k} {g.FSIMTime}\n")
    return ''.join(output)
out=re.sub(r"((?:[F].*\n)+)",repl,src)
print(out)
pass